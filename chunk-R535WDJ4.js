import{Ba as d,Ca as v,Ha as S,La as P,Ua as y,W as p,X as g,Xa as s,Ya as h,Za as O,ab as k,bb as m,db as C,ea as R,eb as x,fb as b,gb as f,hb as w,za as E}from"./chunk-7AY45A2V.js";var Y=["sceneContainer"],z=["backgroundCanvas"],T=class _{constructor(t,e){this.renderer=t;this.el=e}sceneContainerRef;canvasRef;rainCount=150;butterflyCount=5;ctx;ngAfterViewInit(){this.canvasRef&&(this.ctx=this.canvasRef.nativeElement.getContext("2d"),this.drawScene(),this.updateElements(".rain",this.rainCount,this.createRaindrop.bind(this)),this.updateElements(".butterfly",this.butterflyCount,this.createButterfly.bind(this)))}onResize(){this.drawScene()}onRainSliderChange(t){let e=t.target;this.rainCount=parseInt(e.value,10),this.updateElements(".rain",this.rainCount,this.createRaindrop.bind(this))}onButterflySliderChange(t){let e=t.target;this.butterflyCount=parseInt(e.value,10),this.updateElements(".butterfly",this.butterflyCount,this.createButterfly.bind(this))}drawScene(){if(!this.ctx)return;let t=this.canvasRef.nativeElement;t.width=this.el.nativeElement.offsetWidth,t.height=this.el.nativeElement.offsetHeight,this.ctx.clearRect(0,0,t.width,t.height);let e=["#6B8E23","#556B2F","#8FBC8F"],n=this.drawMountainRange(e[0],.85,200,10),i=this.drawMountainRange(e[1],.75,150,15),a=this.drawMountainRange(e[2],.65,100,20);for(let r=0;r<30;r++){let l=Math.random()*t.width,o=Math.floor(l/(t.width/10));if(o>=n.length-1)continue;let c=n[o].y,B=n[o+1]?n[o+1].y:c,u=n[o].x,I=n[o+1]?n[o+1].x:u,M=c+(B-c)*((l-u)/(I-u||1));M<t.height&&this.drawTree(l,M-5)}console.log("Canvas size:",t.width,t.height)}drawMountainRange(t,e,n,i){let a=this.canvasRef.nativeElement;this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.moveTo(-1,a.height);let r=[];for(let l=0;l<=i;l++){let o=a.width/i*l,c=a.height*e-Math.random()*n+n/2;r.push({x:o,y:c}),this.ctx.lineTo(o,c)}return this.ctx.lineTo(a.width+1,a.height),this.ctx.closePath(),this.ctx.fill(),r}drawTree(t,e){this.ctx.fillStyle="#1A4314",this.ctx.fillRect(t-2,e-10,4,10),this.ctx.fillStyle="#228B22",this.ctx.beginPath(),this.ctx.moveTo(t,e-50),this.ctx.lineTo(t-15,e-20),this.ctx.lineTo(t+15,e-20),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(t,e-30),this.ctx.lineTo(t-12,e-10),this.ctx.lineTo(t+12,e-10),this.ctx.closePath(),this.ctx.fill()}updateElements(t,e,n){if(!this.sceneContainerRef)return;let i=this.sceneContainerRef.nativeElement.querySelectorAll(t),a=i.length-e;for(let r=0;r<a;r++)i[r]&&this.renderer.removeChild(this.sceneContainerRef.nativeElement,i[r]);for(let r=0;r<e-i.length;r++)n()}createRaindrop(){let t=this.renderer.createElement("div");this.renderer.addClass(t,"rain"),this.renderer.setStyle(t,"left",`${Math.random()*105-2}vw`),this.renderer.setStyle(t,"animation-duration",`${.6+Math.random()*.8}s`),this.renderer.setStyle(t,"animation-delay",`${Math.random()*5}s`),this.renderer.appendChild(this.sceneContainerRef.nativeElement,t),console.log("Raindrop created")}createButterfly(){let t=this.renderer.createElement("div");this.renderer.addClass(t,"butterfly");let e=200+Math.random()*120;t.innerHTML=`
    <svg viewBox="0 0 40 40" style="--wing-color: hsl(${e}, 90%, 70%); --stroke-color: hsl(${e}, 80%, 30%);">
        <path class="wing left-wing" fill="var(--wing-color)" stroke="var(--stroke-color)" d="M 20,20 C 0,0 5,40 20,20 Z"></path>
        <path class="wing right-wing" fill="var(--wing-color)" stroke="var(--stroke-color)" d="M 20,20 C 40,0 35,40 20,20 Z"></path>
    </svg>
`;let n=10+Math.random()*8,i=20+Math.random()*50,a=Math.random()*n;this.renderer.setStyle(t,"top",`${i}vh`),this.renderer.setStyle(t,"animation-duration",`${n.toFixed(2)}s`),this.renderer.setStyle(t,"animation-delay",`-${a.toFixed(2)}s`),this.renderer.appendChild(this.sceneContainerRef.nativeElement,t),console.log("Butterfly created")}static \u0275fac=function(e){return new(e||_)(v(S),v(R))};static \u0275cmp=P({type:_,selectors:[["app-scenary-one"]],viewQuery:function(e,n){if(e&1&&(C(Y,5),C(z,5)),e&2){let i;x(i=b())&&(n.sceneContainerRef=i.first),x(i=b())&&(n.canvasRef=i.first)}},hostBindings:function(e,n){e&1&&m("resize",function(){return n.onResize()},!1,E)},decls:17,vars:4,consts:[["sceneContainer",""],["backgroundCanvas",""],[1,"scene-container"],["id","background-canvas"],[1,"controls"],[1,"control-group"],["for","rain-slider"],["type","range","id","rain-slider","min","0","max","500",3,"input","value"],["for","butterfly-slider"],["type","range","id","butterfly-slider","min","0","max","20",3,"input","value"]],template:function(e,n){if(e&1){let i=k();s(0,"div",2,0),O(2,"canvas",3,1),h(),s(4,"div",4)(5,"div",5)(6,"label",6),f(7,"Rain Amount: "),s(8,"span"),f(9),h()(),s(10,"input",7),m("input",function(r){return p(i),g(n.onRainSliderChange(r))}),h()(),s(11,"div",5)(12,"label",8),f(13,"Butterflies: "),s(14,"span"),f(15),h()(),s(16,"input",9),m("input",function(r){return p(i),g(n.onButterflySliderChange(r))}),h()()()}e&2&&(d(9),w(n.rainCount),d(),y("value",n.rainCount),d(5),w(n.butterflyCount),d(),y("value",n.butterflyCount))},styles:["[_nghost-%COMP%]{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden;z-index:0}.scene-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:linear-gradient(to bottom,#5f7c8a,#a3bfcf);overflow:hidden}#background-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}  .rain{position:absolute;top:-20px;width:1.5px;height:20px;background:linear-gradient(to bottom,#4682b4cc,#191970e6);animation-name:_ngcontent-%COMP%_fall;animation-timing-function:linear;animation-iteration-count:infinite;z-index:30}  .butterfly{position:absolute;width:40px;height:40px;z-index:20;animation-name:_ngcontent-%COMP%_fly-path;animation-timing-function:linear;animation-iteration-count:infinite;will-change:transform,left}  .butterfly svg{width:100%;height:100%;overflow:visible}  .butterfly .wing{fill:var(--wing-color);stroke:var(--stroke-color);stroke-width:.8px;transform-origin:20px 20px}  .butterfly .left-wing{animation:_ngcontent-%COMP%_flap-left .25s ease-in-out infinite alternate}  .butterfly .right-wing{animation:_ngcontent-%COMP%_flap-right .25s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_fall{0%{transform:translateY(0)}to{transform:translateY(110vh);opacity:0}}@keyframes _ngcontent-%COMP%_fly-path{0%{left:-50px;transform:translateY(0) rotate(15deg)}25%{transform:translateY(-10vh) rotate(-10deg)}50%{transform:translateY(5vh) rotate(20deg)}75%{transform:translateY(-5vh) rotate(-5deg)}to{left:105vw;transform:translateY(2vh) rotate(15deg)}}@keyframes _ngcontent-%COMP%_flap-left{0%{transform:scale(1) rotateY(0)}to{transform:scale(1.1) rotateY(75deg)}}@keyframes _ngcontent-%COMP%_flap-right{0%{transform:scale(1) rotateY(0)}to{transform:scale(1.1) rotateY(-75deg)}}.controls[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);background:#ffffffb3;padding:15px 25px;border-radius:12px;z-index:100;display:flex;gap:25px;align-items:center;box-shadow:0 4px 15px #0000001a}.control-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#333}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;margin-bottom:8px;font-weight:500}.control-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#007bff}"]})};export{T as ScenaryOneComponent};
